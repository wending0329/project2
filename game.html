<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>
卍乂煞氣a網頁期末之征戰乂卍 
</title>
<style type="text/css">
	.input1{
		width:50%;
		height:5%;
		margin:2%;
		font-size:100%
	}
	.input2{
		width:30%;
		height:4%;
		margin:1%;
		font-size:100%
	}
	.input3{
		width:20%;
		height:5%;
		margin:1%;
		font-size:100%	
	}	
	.img1{
		float: right;
		overflow: auto;

	}
	.img2{
		border:3px solid #336677;
		margin:1%;
	}	
	.img3{
		float: right;
		overflow: auto;
	}			
	.personal{
		float: left;
		overflow: auto;
		padding-left:1%; 
		padding-right:4%;
		padding-bottom:1%;
	}
	.button1{
		width:20%;
		height:15%;
		font-size:100%;
		border-width:4px 6px 0px 0px;
		background-color:#B94FFF;
		font-weight:bold; 
		
	}
	.button1-1{
		width:20%;
		height:15%;
		font-size:100%;
		border-width:4px 6px 0px 0px;
		background-color:#B94FFF;
		font-weight:bold; 
		color:#666666;
		font-weight:bold; 
	}

	.button2{
		width:30%;
		height:50%;
		font-size:120%;
		border-width:4px 6px 0px 0px;
		background-color:#B94FFF;
		margin-bottom:1.5%;
		font-weight:bold; 
		
	}		
	.button3{
		width:30%;
		height:15%;
		font-size:60%;
		border-width:4px 6px 0px 0px;
		background-color:#B94FFF;
		margin-bottom:1.5%;
		font-weight:bold; 
	}
	.button3-1{
		width:30%;
		height:12%;
		font-size:60%;
		border-width:4px 6px 0px 0px;
		background-color:#B94FFF;
		font-weight:bold; 
	}
	.button3-2{
		width:30%;
		height:15%;
		font-size:60%;
		border-width:4px 6px 0px 0px;
		background-color:#B94FFF;
		margin-bottom:1.5%;
		font-weight:bold; 
		color:#666666;
		font-weight:bold; 
	}
	
	.button4{
		width:10%;
		height:100%;
		font-size:140%;
		border-radius:50%;
		background-color:#B94FFF;
		margin-left:0.4%;
		font-weight:bold; 
	}
	.button4-1{
		width:10%;
		height:100%;
		font-size:140%;
		border-radius:50%;
		background-color:#B94FFF;
		margin-left:0.4%;
		font-weight:bold; 
	}
	.button5{
		width:10%;
		height:10%;
		font-size:60%;
		border-width:4px 6px 0px 0px;
		background-color:#B94FFF;
		margin-bottom:1.5%;
		font-weight:bold; 
	}
	.button5-1{
		width:10%;
		height:10%;
		font-size:60%;
		border-width:4px 6px 0px 0px;
		background-color:#B94FFF;
		margin-bottom:1.5%;
		font-weight:bold; 
		
	}
	.button5-2{
		width:10%;
		height:10%;
		font-size:60%;
		border-width:4px 6px 0px 0px;
		background-color:#B94FFF;
		margin-bottom:1.5%;
		position:absolute;
		font-weight:bold; 
	}	
	.button5-3{
		width:10%;
		height:10%;
		font-size:60%;
		border-width:4px 6px 0px 0px;
		background-color:#B94FFF;
		margin-bottom:1.5%;
		position:absolute;
		font-weight:bold; 
	}		
	.button1:hover
	{
		color:#880000;
		background-color:#9F88FF;
	}
	.button1:hover
	{
		
	}
	.button2:hover
	{
		color:#880000;
		background-color:#9F88FF;
	}
	.button3:hover
	{
		color:#880000;
		background-color:#9F88FF;
	}
	.button3-1:hover
	{
		color:#880000;
		background-color:#9F88FF;
	}
	.button3-2:hover
	{
		
	}
	.button4:hover
	{
		color:#880000;
		background-color:#9F88FF;
	}
	.button4-1:hover
	{

	}

	.button5:hover
	{
		color:#880000;
		background-color:#9F88FF;
	}
	.button5-1:hover
	{

	}
	.button5-2:hover
	{
		color:#880000;
		background-color:#9F88FF;
	}
	.button5-3:hover
	{

	}

	.box1{
		width:20%;
		height:31%;
		background-color: #00DD77;
		border:3px solid #336677;
		position:absolute;
		color:#774422;
		font-size:140%;
		padding: 1%;
	
	}
	.box2{
		width:20%;
		height:10%;
		background-color: #00DD77;
		border:3px solid #336677;
		position:absolute;
		color:#774422;
		font-size:100%;
		padding: 1%;
	}	
	.box3{
		width:20%;
		height:42%;
		background-color: #00DD77;
		border:3px solid #336677;
		position:absolute;
		color:#774422;
		font-size:180%;
		padding: 1%;
		overflow: scroll;
		overflow-x:hidden;
	}

	.box4{
		width:73.4%;
		height:6%;
		background-color: #00DD77;
		border:3px solid #336677;
		position:absolute;
		color:#774422;
		font-size:100%;
		font-size:100%;
		padding: 0.4%;
		
	}
	.box5{
		width:72.2%;
		height:58.4%;
		background-color: #00DD77;
		border:3px solid #336677;
		position:absolute;
		color:#774422;
		font-size:150%;
		padding: 1%;
		}
	.box5-1{
		width:72.2%;
		height:58.4%;
		background-color: #00DD77;
		border:3px solid #336677;
		position:absolute;
		color:#774422;
		font-size:150%;
		padding: 1%;
		overflow: scroll;
		overflow-x:hidden;
	}
     .EnemyPromptBoxCss{
		width:20%;
		background-color: #DDAA00;
		border:3px solid #DDDDDD;
		border-radius:15px;
		position:absolute;
		color:#000000;
		padding: 1%;
		font-size:100%;
		opacity:0.85;
	}
	.CampaignPromptBox{
		width:20%;
		background-color: #DDAA00;
		border:3px solid #DDDDDD;
		border-radius:15px;
		position:absolute;
		color:#000000;
		padding: 1%;
		font-size:100%;
		opacity:0.85;
	}
	.MilitaryPromptBox{
		width:60%;
		background-color: #DDAA00;
		border:3px solid #DDDDDD;
		border-radius:15px;

		position:absolute;
		color:#000000;
		padding: 1%;
		font-size:100%;
		opacity:0.85;
	}
	.StructureUpPromptBox{
		width:60%;
		background-color: #DDAA00;
		border:3px solid #DDDDDD;
		border-radius:15px;
		position:absolute;
		color:#000000;
		padding: 1%;
		font-size:100%;
		opacity:0.85;
	}
	.technologyUpPromptBox{
		width:60%;
		background-color: #DDAA00;
		border:3px solid #DDDDDD;
		border-radius:15px;
		position:absolute;
		color:#000000;
		padding: 1%;
		font-size:100%;
		opacity:0.85;
	}
	.messageboxcss{
		width:72%;
		height:20%;
		background-color: #00DD77;
		border:3px solid #336677;
		position:absolute;
		color:#774422;
		font-size:200%;
		padding: 1%;
		overflow: scroll;
		overflow-x:hidden;
	}
	.Campaignmessageboxcss{
		width:95%;
		height:40.4%;
		background-color: #00DD77;
		border:3px solid #336677;
		position:absolute;
		color:#774422;
		font-size:140%;
		padding: 1%;
		overflow: scroll;
		overflow-x:hidden;
	}
	.CampaignDescription{
		width:50%;
		height:20%;
		background-color: #DDAA00;
		border:3px solid #DDDDDD;
		border-radius:15px;
		position:absolute;
		color:#000000;
		padding: 1%;
		font-size:100%;
		opacity:0.85;
	}
	.CampaignArmyValue{
		width:30%;
		background-color: #DDAA00;
		border:3px solid #DDDDDD;
		border-radius:15px;
		position:absolute;
		color:#000000;
		padding: 1%;
		font-size:100%;
		opacity:0.85;
	}
	body{
		background-color:#66FFFF;
	}
	.font1{
		color:#7744FF;
		font-size:200%;
	
	}

</style>
</head>
<body  onload="Updated();autoresource();Initial(); "   >

<!--等級及資源區塊-->
<div class="box1" style="top:1%">

<div><img src="https://i.imgur.com/aU1wvYo.jpg"  class="personal" style="width:20%" ></img>

<div>等級:<span id="LevelValueShow" >1</span></div>
<div>經驗值:<span id="ExpValueShow">0 + LevelExp[j] </span></div>
</div>
<button class="button1" onclick="LevelUp()" id="LevelUpButton">升級</button><br//><br//>


<div >人口數:<span id="PopulationValueShow" title="閒置人口/總人口">0</span></div>
<div >食物:<span id="FoodValueShow">0</span></div>
<div >木材:<span id="WoodValueShow">0</span></div>
<div >石頭:<span id="StoneValueShow">0</span></div>
<div >黃金:<span id="GoldValueShow">0</span></div>
<div >鑽石:<span id="DiamondValueShow">0</span></div>

</div>
<!--選取區塊box3區塊-->
<div class="box2" style="top:37%">

<button class="button2" onclick="lasttime1=exchange1(lasttime1,resource)">資源</button>

<button class="button2" onclick="lasttime1=exchange1(lasttime1,technology)" >科技</button><br/>

<button class="button2" onclick="lasttime1=exchange1(lasttime1,milltary)" >軍事資訊</button>

<button class="button2" onclick="lasttime1=exchange1(lasttime1,structure)" >建築資訊</button>

</div>
<!--主畫面選取區塊-->
<div class="box4" style="top:1%;left:24%">
<table>
<tr>
<button class="button4" id="CampaignButton"onclick="lasttime2=exchange2(lasttime2,Campaign)">戰役</button>
<button class="button4-1" id="PracticeAreaButton"onclick="lasttime2=exchange2(lasttime2,PracticeArea)" disabled="true">模擬戰鬥</button>
<button class="button4" id="IntroductionButton"onclick="lasttime2=exchange2(lasttime2,Introduction)">介紹</button>
<button class="button4" id="AboutmeButton"onclick="lasttime2=exchange2(lasttime2,Aboutme)">關於作品</button>
</tr>
</table>
</div> 



<!--模擬戰鬥區塊-->
<div class="box5" style="top:10%;left:24%;display:none;" id="PracticeArea" >
<img src="https://i.imgur.com/sFymVV1.png" class="img1" style="height:100%"  ></img>
　　　　　　　我方軍隊<br/>
長槍兵數量:<input class="input3"id="PracticePikeman"></input><br/>
刀盾兵數量:<input class="input3"id="PracticeShieldSoldier"></input><br/>
弓箭兵數量:<input class="input3"id="PracticeArcher"></input><br/>
　　　　　　　敵方軍隊<br/>
　盜匪數量:<input class="input3"id="PracticeThieves"></input><br/>
<button class="button5" onclick="CampaignScreengame(CampaignLevel)">模擬</button>



</div>
<!--戰役區塊-->
<div class="box5" style="top:10%;left:24%;display:none;" id="Campaign" >
<img src="https://i.imgur.com/oXZu2Fm.png"  class="img1" style="height:100%" ></img>
<button class="button5" onclick="lasttime2=exchange2(lasttime2,CampaignReady);CampaignLevelJugement(1)" >戰役1-1</button>
<button id="Campaign1_2Button"class="button5-1" onclick="lasttime2=exchange2(lasttime2,CampaignReady);CampaignLevelJugement(2)" disabled=true  >戰役1-2</button>
<button id="Campaign1_3Button"class="button5-1" onclick="lasttime2=exchange2(lasttime2,CampaignReady);CampaignLevelJugement(3)" disabled=true  >戰役1-3</button>

</div>
<!--出征區塊-->
<div class="box5" style="top:10%;left:24%;display:none;" id="CampaignReady" >
<img src="https://i.imgur.com/oXZu2Fm.png"  class="img1" style="height:100%" ></img>
<span class="CampaignDescription" Id="CampaignReadyDescription">戰役說明:</span><br/><br/><br/><br/><br/><br/>
<input class="input2" style="width:20%" id="PikemanRedeyInput" style="margin:0%;"></input>現有長槍兵:<span id="PikemanValueShow2">0</span><br/>
<input class="input2" style="width:20%" id="ShieldSoldierRedeyInput"></input>現有刀盾兵:<span id="ShieldSoldierValueShow2">0</span><br/>
<input class="input2" style="width:20%" id="ArcherRedeyInput"></input>現有弓箭兵:<span id="ArcherValueShow2">0</span><br/>
<button class="button5" style="margin:2%" onclick="lasttime2=exchange2(lasttime2,CampaignReadygo);CampaignScreengame(CampaignLevel)">出征</button>
<button class="button5" style="margin:2%" onclick="lasttime2=exchange2(lasttime2,Campaign);">返回</button>

</div>
<!--戰鬥-->
<div class="box5" style="top:10%;left:24%;display:none;"id="CampaignScreen">
<div class="CampaignArmyValue" style="top2%;left:4%;">
長槍兵:<span id="MemoryPikemanShow">0</span><br/>
刀盾兵:<span id="MemoryShieldSoldierShow">0</span><br/>
弓箭兵:<span id="MemoryArcherShow">0</span>

</div>
<div class="CampaignArmyValue" style="top2%;right:4%;" onmousemove="EnemyPrompt()" onmouseout="EnemyPromptVanish()">
盜匪:<span id="MemoryThievesShow" >0</span>
</div>
<div class="EnemyPromptBoxCss" id="EnemyPromptBox" style="left:70%;top:20%;display:none">盜匪兵生命100，攻擊力45~53，防禦力12</div>
<div class="Campaignmessageboxcss" id="Campaignmessagebox" style="bottom:5%"></div>
<button id="FightButton"class="button5-2" style="left:3%;top:30%;" onclick="fight()">下一回合戰鬥</button>
<button id="EscapeButton"class="button5-2" style="left:18%;top:30%;" onclick="Escape()">逃跑</button> 
<button id="EndCampaignButton"class="button5-3" style="left:50%;top:30%;" onclick="EndCampaign(CampaignLevel)" disabled="true";>離開</button>

</div>
<div class="box5" style="top:10%;left:24%;display:none;"id="Campaign1_2">Campaign1_2</div>
<div class="box5" style="top:10%;left:24%;display:none;"id="Campaign1_3">Campaign1_3</div>
<div class="box5" style="top:10%;left:24%;display:none;"id="CampaignReadygo">CampaignReadygo</div>

<!--遊戲介紹區塊-->
<div class="box5-1" style="top:10%;left:24%;" id="Introduction" >

go

</div>
<!--關於作品區塊-->
<div class="box5-1" style="top:10%;left:24%;display:none;" id="Aboutme" >
83分
</div>
<!--聊天室、訊息提示區塊-->
<div id="messagebox" class="messageboxcss" style="bottom:1%;left:24%;"   >


</div>
<!--科技區塊-->
<div class="box3" id="technology"  style="display:none;top:52%;" >科技<Hr />

<button class="button3" onclick="technology1LevelUp(1)" onmouseover="technologyPrompt(1);" onmouseout="technologyPromptVanish(1)";>升級</button>LV:<span id="technology1LevelShow">0</span>生產強化<br/>
<button class="button3" onclick="technology1LevelUp(2)" onmouseover="technologyPrompt(2);" onmouseout="technologyPromptVanish(2);">升級</button>LV:<span id="technology2LevelShow">0</span>軍隊振奮<br/>
<!--科技提示區塊--架構在科技區塊下-->
<div id="technologyDescription1" class="technologyUpPromptBox" style="top:11%;left:23%;display:none;" >說明</div>
<div id="technologyDescription2" class="technologyUpPromptBox" style="top:27%;left:23%;display:none;" >說明</div>

</div>
<!--軍事資訊區塊-->
<div class="box3" id="milltary" style="display:none;top:52%;" >軍事資訊<Hr />
<div>長槍兵:<span id="PikemanValueShow1">0</span></div>
<div>刀盾兵:<span id="ShieldSoldierValueShow1">0</span></div>
<div>弓箭兵:<span id="ArcherValueShow1">0</span></div>
<input class="input1"id="ProductSoldierInput" ></input><br/>

<button class="button3" onclick="ProductSoldier(1);" onmouseover="MilitaryPrompt(1);" onmouseout="MilitaryPromptVanish(1);" >訓練長槍兵</button>
<button class="button3" onclick="DismissalSoldier(1);" >解雇長槍兵</button><br/>

<button id="TrainShieldSoldierButton"   class="button3-2" disabled=ture; onclick='ProductSoldier(2);' onmouseover="MilitaryPrompt(2);" onmouseout="MilitaryPromptVanish(2);" >訓練刀盾兵</button>
<button class="button3" onclick="DismissalSoldier(2);" >解雇刀盾兵</button><br/>

<button id="TrainArcherButton" class="button3-2" disabled=ture; onclick='ProductSoldier(3);' onmouseover="MilitaryPrompt(3);" onmouseout="MilitaryPromptVanish(3)"; >訓練弓箭兵</button>
<button class="button3" onclick="DismissalSoldier(3);" >解雇弓箭兵</button><br/>
<!--軍事提示區塊--架構在軍事資訊區塊下-->
<div class="MilitaryPromptBox" id="PikemanPrompt" style="top:41%;left:26%;display:none;">這是長槍兵說明</div>
<div class="MilitaryPromptBox" id="ShieldSoldierPrompt" style="top:56%;left:26%;display:none;">這是刀盾兵說明</div>
<div class="MilitaryPromptBox" id="ArcherPrompt" style="top:71%;left:26%;display:none;">這是弓箭兵說明</div>
</div>


<!--建築資訊區塊-->
<div class="box3" id="structure" style="display:none;top:52%;" >建築資訊<Hr />
<div><button Id="CastleUpButton" class="button3" onclick="StructureLevalUp(1)" onmouseover="StructureLevelUpPrompt(1);" onmouseout="StructureLevelUpPromptVanish(1)">升級</button>LV:<span id="CastleShow">1</span>城堡<br/></div>
<div><button Id="HouseUpButton"class="button3" onclick="StructureLevalUp(2)" onmouseover="StructureLevelUpPrompt(2)" onmouseout="StructureLevelUpPromptVanish(2)">升級</button>LV:<span id="HouseShow">1</span>民房<br/></div>
<div><button Id="WareHouseUpButton"class="button3" onclick="StructureLevalUp(3)" onmouseover="StructureLevelUpPrompt(3)" onmouseout="StructureLevelUpPromptVanish(3)">升級</button>LV:<span id="WarehouseShow">1</span>倉庫<br/></div>
<div><button Id="MilitaryCampUpButton"class="button3" onclick="StructureLevalUp(4)" onmouseover="StructureLevelUpPrompt(4)" onmouseout="StructureLevelUpPromptVanish(4)">升級</button>LV:<span id="MilitaryCampShow">1</span>軍營<br/></div>


<!--建築物升級提示區塊-架構在建築資訊區塊下-->
<div class="StructureUpPromptBox" id="CastleLevelUpPrompt" style="top:11%;left:26%;display:none;"></div>
<div class="StructureUpPromptBox" id="HouseLevelUpPrompt" style="top:19%;left:26%;display:none;">這是民房提示</div>
<div class="StructureUpPromptBox" id="WareHouseLevelUpPrompt" style="top:27%;left:25%;display:none;">這是倉庫提示</div>
<div class="StructureUpPromptBox" id="MilitaryCampLevelUpPrompt" style="top:35%;left:25%;display:none;">這是軍營提示</div>
</div>


<!--資源區塊-->
<div class="box3" id="resource"   style="top:52%">
<div>資源<button class="button3-1" onclick="ReceiveResource()" style="position:absolute;left:30%">提領儲存資源</button></div><br//><Hr />

<button class="button3" onclick='Food=add(Food,FoodAddValue,FoodValueShow);'>採集食物</button>

<button class="button3" onclick='Wood=add(Wood,WoodAddValue,WoodValueShow);'>採集木材</button><br/>

<button class="button3" onclick='Stone=add(Stone,StoneAddValue,StoneValueShow);'>採集石頭</button>

<button class="button3" onclick='Gold=add(Gold,GoldAddValue,GoldValueShow);'>採集黃金</button>

<div>儲存食物:<span id="MemoryFoodValueShow">0</span></div>
<div>儲存木材:<span id="MemoryWoodValueShow">0</span></div>
<div>儲存石頭:<span id="MemoryStoneValueShow">0</span></div>
<div>儲存黃金:<span id="MemoryGoldValueShow">0</span></div>
<div>手動採集食物:<span id="ManualGatherFoodShow">0<span></div>
<div>手動採集木材:<span id="ManualGatherWoodShow">0<span></div>
<div>手動採集石頭:<span id="ManualGatherStoneShow">0<span></div>
<div>手動採集黃金:<span id="ManualGatherGoldShow">0<span></div>
<div>農民採集食物:<span id="AutoProductionFoodShow">00<span></div>
<div>伐木工採集木材:<span id="AutoProductionWoodShow">00<span></div>
<div>礦工採集石頭:<span id="AutoProductionStoneShow">00<span></div>
<div>人民稅收黃金:<span id="AutoProductionGoldShow">00<span></div><br/>
<div>農民:<span id="PeasantValueShow">0</span></div>
<div>伐木工:<span id="WoodcutterValueShow">0</span></div>
<div>礦工:<span id="MinerValueShow">0</span></div>
<input class="input1"id="ProductLaborInput"></input><br/>
*每單位花費50黃金<br/>
<button class="button3" onclick="ProductLabor(1);" >訓練農民</button>
<button class="button3" onclick="DismissalLabor(1);" >解雇農民</button><br/>

<button class="button3" onclick='ProductLabor(2);' >訓練伐木工</button>
<button class="button3" onclick="DismissalLabor(2);" >解雇伐木工</button><br/>

<button class="button3" onclick='ProductLabor(3);' >訓練礦工</button>
<button class="button3" onclick="DismissalLabor(3);" >解雇礦工</button><br/>


</div>
<!---->
</body>
</html>
<script language="JavaScript">
//上線時段獎勵
var SecGift=0;
var GifMinutest=0;
var GiftHours=0;
var Hr=0;
var Min=0;
var Sec=0;
var Hour=0;
var Minute=0;
var Second=0;
var giftflag=0;
//個人資料等級區
var Level=1;
var LevelExp = new Array(101) ;
var exp=0;
//資源區
var Food=10000; //食物
var Wood=10000; //木材
var Stone=10000; //石頭
var Gold=10000; //黃金
var Diamond=0 //鑽石
var FoodAddValue=5;
var WoodAddValue=5;
var StoneAddValue=2;
var GoldAddValue=1;
var AutoFoodAdd=0;
var AutoWoodAdd=0;
var AutoStoneAdd=0;
var AutoGoldAdd=0;
var MemoryFood=0;
var MemoryWood=0;
var MemoryStone=0;
var MemoryGold=0;
//每等級經驗值
LevelExp[1]=1000;
for(i=2;i<=100;i++)
{
	LevelExp[i]=LevelExp[i-1]*1.2;
}

//頁面
var lasttime1=resource;
var lasttime2=Introduction;

//建築區
var Castle=1;
var House=1;
var Warehouse=1;
var MilitaryCamp=1;
//建築等級區
var CastleLevel = new Array() ;
var HouseLevel = new Array();
var WarehouseLevel = new Array();
var MilitaryCampLevel = new Array();
CastleLevel[1] = new Array();
CastleLevel[1][0]=500; //木材成本
CastleLevel[1][1]=300; //石頭成本
HouseLevel[1] = new Array();
HouseLevel[0] = new Array();
HouseLevel[1][0]=200;
HouseLevel[1][1]=100;
HouseLevel[1][2]=20; //增加人口數
WarehouseLevel[1] = new Array();
WarehouseLevel[1][0]=200;  
WarehouseLevel[1][1]=100;
WarehouseLevel[1][2]=5000; //增加儲庫量
MilitaryCampLevel[1] = new Array();
MilitaryCampLevel[2] = new Array();
MilitaryCampLevel[1][0]=2000;
MilitaryCampLevel[1][1]=1000;
MilitaryCampLevel[2][0]=5000;
MilitaryCampLevel[2][1]=3000;
//建築資料
for(i=2;i<=15;i++) 
{
		CastleLevel[i] = new Array();
		CastleLevel[i][0]=CastleLevel[i-1][0]*1.5;
		CastleLevel[i][1]=CastleLevel[i-1][1]*1.5;
		HouseLevel[i] = new Array();
		HouseLevel[i][0]=HouseLevel[i-1][0]*1.5;
		HouseLevel[i][1]=HouseLevel[i-1][1]*1.5;
		if(i<=5)
		{
			HouseLevel[i][2]=20*(i-1);
		}
		else
		{
			if(i<=10)
			{
				HouseLevel[i][2]=80+(25*(i-5));
			}
			else
			{
				if(i<=15)
				{
					HouseLevel[i][2]=205+30*(i-10);
				}
				
			}
		}
		WarehouseLevel[i] = new Array();   
		WarehouseLevel[i][0]=WarehouseLevel[i-1][0]*1.5;
		WarehouseLevel[i][1]=WarehouseLevel[i-1][1]*1.5;
		WarehouseLevel[i][2]=WarehouseLevel[i-1][2]*2;
}

//人口生產區
var TotalPopulation=100;
var IdelPopulation=100;
var Peasant=0;
var Woodcutter=0;
var Miner=0;
//軍事區
var Pikeman=0; //長槍兵 食物100、木材200
var ShieldSoldier=0; //刀盾兵 食物100、石頭150
var Archer=0 //弓箭手 食物100、木材300

//科技區塊
var technology1=0;
var technology2=0;
var technology1Ability = new Array() ;
var technology2Ability = new Array();
var technology1Cost = new Array();
var technology2Cost = new Array();
technology1Ability[0]=1;
technology2Ability[0]=1;
technology1Cost[0]=1000;
technology2Cost[0]=1500;
for(i=1;i<=10;i++)
{
	technology1Ability[i]=Number(1)+i*0.5;
	technology2Ability[i]=Number(1)+i*0.25;
	technology1Cost[i]=Math.floor(technology1Cost[i-1]*1.4);
	technology2Cost[i]=Math.floor(technology2Cost[i-1]*1.4)
}

//戰役區塊
var Campaigngamein=0; //幫助div更換
var winlose=0; //win=1 lose=2
var CampaignLevel=0; //判別關卡
var MemoryPikeman=0;
var MemoryShieldSoldier=0;
var MemoryArcher=0;
var Thieves=0;
var Round=0; //回合
var TotalMemoryPikemanLife=0;
var TotalMemoryShieldSoldierLife=0;
var TotalMemoryArcherLife=0;
var CampaignDiamond;
CampaignDiamond=new Array(100);
for(i=1;i<=100;i++)
{
	CampaignDiamond[i]=0;
}
//時間區
var Hours;
var Minutes; 
var Seconds;
	 Hours = new Date().getHours();
	 if(Hours<10)
	 {
		Hours="0"+Hours;
	 }
	 Minutes = new Date().getMinutes();
	 if(Minutes<10)
	 {
		Minutes="0"+Minutes;
	 }
	 Seconds = new Date().getSeconds();
	 if(Seconds<10)
	 {
		Seconds="0"+Seconds;
	 }
//聊天、提示、訊息
var message="["+Hours+":"+Minutes+":"+Seconds+"]"+"歡迎來到遊戲<br/>";
var messagebox = document.getElementById("messagebox");
var messagebox1= document.getElementById("Campaignmessagebox");
var Campaignmessage="";


function Escape()
{
	Campaigngamein=0;
	CampaignLevel=0;
	Pikeman=Pikeman+Math.floor(MemoryPikeman/2);
	ShieldSoldier=ShieldSoldier+Math.floor(MemoryShieldSoldier/2);
	Archer=Archer+Math.floor(MemoryArcher/2);
	MemoryPikeman=0;
	MemoryShieldSoldier=0;
	MemoryArcher=0;
	Campaignmessage="";
	Campaignmessagebox.innerHTML=Campaignmessage;
	lasttime2.style.display="none";
	Campaign.style.display="";
	lasttime2=Campaign;
	PikemanValueShow2.innerHTML=Pikeman;
	ShieldSoldierValueShow2.innerHTML=ShieldSoldier;
	ArcherValueShow2.innerHTML=Archer;
}
function PracticeAreagame()
{
	var a;
	Math.floor(Math.random()*9)+1;
	Thieves=Level*10+a;
	
}
function CampaignScreengame(CampaignLevel)
{
	switch(CampaignLevel)
	{
		case 100:
		{
			Thieves=PracticeThieves.Value;
			MemoryArcher=PracticeArcher.Value;
			MemoryPikeman=PracticePikeman.Value;
			MemoryShieldSoldier=PracticeShieldSoldier.Value;
		}
		case 1:
		{
			Thieves=200;
			MemoryThievesShow.innerHTML=Thieves;
			break;
		}
		case 2:
		{
			Thieves=500;
			MemoryThievesShow.innerHTML=Thieves;
			break;
		}
		case 3:
		{
			Thieves=1000;
			MemoryThievesShow.innerHTML=Thieves;
			break;
		}
	}
	
}

function EndCampaign(CampaignLevel)
{
	Campaignmessage="";
	Campaignmessagebox.innerHTML=Campaignmessage;
	Campaigngamein=0; 
	Campaign.style.display="";
	lasttime2.style.display="none";
	lasttime2=Campaign;
	Pikeman=Number(Pikeman)+Number(MemoryPikeman);
	ShieldSoldier=Number(ShieldSoldier)+Number(MemoryShieldSoldier);
	Archer=Number(Archer)+Number(MemoryArcher);
	MemoryPikeman=0;
	MemoryShieldSoldier=0;
	MemoryArcher=0;
	Round=0;
	if(winlose==1)
	{

		winlose=0;
		switch(CampaignLevel)
		{
			case 1:
			{
				Campaign1_2Button.disabled=false;
				Campaign1_2Button.className = "button5";
				Gold=Gold+2000;
				exp=exp+2000;
				message=message+"["+Hours+":"+Minutes+":"+Seconds+"]贏得戰役1-1獲得黃金2000及經驗值2000點";
				break;
			}
			case 2:
			{
				Campaign1_3Button.disabled=false;
				Campaign1_3Button.className = "button5";
				Gold=Gold+5000;
				exp=exp+8000;
				message=message+"["+Hours+":"+Minutes+":"+Seconds+"]贏得戰役1-2獲得黃金5000及經驗值8000點";
				break;
			}
			case 3:
			{
				Gold=Gold+20000;
				exp=exp+30000;
				message=message+"["+Hours+":"+Minutes+":"+Seconds+"]贏得戰役1-3獲得黃金20000及經驗值30000點";
				break;
			}
			
		}
		if(CampaignDiamond[CampaignLevel]==0)
		{
			message=message+"及鑽石1顆";	
			CampaignDiamond[CampaignLevel]=1;
			Diamond=Diamond+1;
		}
	message=message+"<br/>";
	}

	messagebox.innerHTML=message;
	messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
}
function InitialCampaign()
{	
		TotalMemoryPikemanLife=MemoryPikeman*Pikemanlife;
		TotalMemoryShieldSoldierLife=MemoryShieldSoldier*ShieldSoldierlife;
		TotalMemoryArcherLife=MemoryArcher*Archerlife;
		TotalThievesLife=Thieves*Thieveslife; 
		lastThievesValue=Thieves;
		lastShieldSoldierValue=MemoryShieldSoldier;
		lastPikemanValue=MemoryPikeman;
		lastArcherValue=MemoryArcher;
}
//軍事屬性
var Pikemanlife=380;
var ShieldSoldierlife=550;
var Archerlife=100;
var Thieveslife=100;
function fight()
{
	var PikemanAttack=0.5*technology2Ability[technology2];
	var ArcherAttack=0.6*technology2Ability[technology2];
	var ShieldSoldierAttack=0.3*technology2Ability[technology2];
	var ThievesAttack =(Math.floor(Math.random()*8)+45)/100;
	var PikemanDefense=0.22;
	var ArcherDefense=0.05;
	var ShieldSoldierDefense=0.4;
	var ThievesDefense = 0.12;
	var PikemanDamage=0;
	var ShieldSoldierDamage=0;
	var ArcherDamage=0;
	var ThievesDamage=0;
	var TotalArcherDamage=0;
	var TotalShieldSoldierDamage=0;
	var TotalPikemanDamage=0;
	var TotalThievesToShieldSoldierDamage=0;
	var TotalThievesToPikemanDamage=0;
	var TotalThievesToArcherDamage=0;
	var judgement1=0;
	var ShieldSoldierkillThieves=0;
	var	PikemankillThieves=0;
	var ArcherkillThieves=0;
	var lastValue=0;
	var ThievesDamage;
	var	lastPikemanValue=MemoryPikeman;
	var	lastShieldSoldierValue=MemoryShieldSoldier;
	var	lastArcherValue=MemoryArcher;
	var	lastThievesValue=Thieves;

	if(Round==0) //初始化生命資料
	{
		InitialCampaign();
	}
	if(MemoryArcher>0 && Round==0)
	{	
		Round++;	//進入第一回合
		if(MemoryArcher<=Thieves)
		{
			ArcherDamage=(MemoryArcher*40*technology2Ability[technology2]-4*MemoryArcher); 
		}
		else
		{
			ArcherDamage=(MemoryArcher*40*technology2Ability[technology2]-4*Thieves);
		}
		TotalThievesLife=TotalThievesLife-ArcherDamage;
		Thieves=Math.ceil(TotalThievesLife/100);
		Campaignmessage=Campaignmessage+"[第"+Round+"回合]弓箭兵對盜匪造成"+ArcherDamage+"點傷害，擊殺"+(lastThievesValue-Thieves)+"名盜匪<br/>";
		Campaignmessagebox.innerHTML=Campaignmessage;
		lastThievesValue=Thieves;
		ArcherDamage=0;
		Campaignmessagebox.scrollTop = Campaignmessagebox.scrollHeight; //使訊息卷軸置底	
	}
	else
	{
		Round++;
		for(i=1;i<=100;i++)
		{
			//我方攻擊
			if(MemoryPikeman>0)
			{
				if(MemoryPikeman<=Thieves)
				{
					PikemanDamage=(MemoryPikeman*PikemanAttack-ThievesDefense*MemoryPikeman); 
				}
				else
				{
					PikemanDamage=(MemoryPikeman*PikemanAttack-ThievesDefense*Thieves);
				}
				lastValue=Thieves;
				TotalThievesLife=TotalThievesLife-PikemanDamage;
				TotalPikemanDamage=Number(TotalPikemanDamage)+Number(PikemanDamage);
				Thieves=Math.ceil(TotalThievesLife/Thieveslife); 
				if(lastValue!=Thieves)
				{
					PikemankillThieves=PikemankillThieves+Number(lastValue-Thieves);
				}
				PikemanDamage=0;
				if(TotalThievesLife<0 )
				{
					winlose=1;
					break;
				}
			}
			if(MemoryShieldSoldier>0)
			{
				if(MemoryShieldSoldier<=Thieves)
				{
					ShieldSoldierDamage=(MemoryShieldSoldier*ShieldSoldierAttack-ThievesDefense*MemoryShieldSoldier); 
				}
				else
				{
					ShieldSoldierDamage=(MemoryShieldSoldier*ShieldSoldierAttack-ThievesDefense*Thieves);
				}
				lastValue=Thieves;
				TotalThievesLife=TotalThievesLife-ShieldSoldierDamage;
				TotalShieldSoldierDamage=Number(TotalShieldSoldierDamage)+Number(ShieldSoldierDamage);
				Thieves=Math.ceil(TotalThievesLife/Thieveslife); 
				if(lastValue!=Thieves)
				{
					ShieldSoldierkillThieves=ShieldSoldierkillThieves+Number(lastValue-Thieves);
				}
				ShieldSoldierDamage=0;
				if(TotalThievesLife<0 )
				{
					winlose=1;
					break;
				}
			}
			if(MemoryArcher>0)
			{
				if(MemoryArcher<=Thieves)
				{
					ArcherDamage=(MemoryArcher*ArcherAttack-ThievesDefense*MemoryArcher); 
				}
				else
				{
					ArcherDamage=(MemoryArcher*ArcherAttack-ThievesDefense*Thieves);
				}
				lastValue=Thieves;
				TotalThievesLife=TotalThievesLife-ArcherDamage;
				TotalArcherDamage=Number(TotalArcherDamage)+Number(ArcherDamage);
				Thieves=Math.ceil(TotalThievesLife/Thieveslife); 
				if(lastValue!=Thieves)
				{
					ArcherkillThieves=ArcherkillThieves+Number(lastValue-Thieves);
				}
				ArcherDamage=0;
				if(TotalThievesLife<0 )
				{
					winlose=1;
					break;
				}
			}
			//敵方攻擊	
			if(Thieves>0)
			{
				
				if(MemoryShieldSoldier>0)
				{
					if(Thieves>=MemoryShieldSoldier)
					{
						ThievesDamage=(Thieves*ThievesAttack-ShieldSoldierDefense*MemoryShieldSoldier); 
					}
					else
					{
						ThievesDamage=(Thieves*ThievesAttack-ShieldSoldierDefense*Thieves);
					}
					TotalMemoryShieldSoldierLife=TotalMemoryShieldSoldierLife-ThievesDamage;
					TotalThievesToShieldSoldierDamage=TotalThievesToShieldSoldierDamage+ThievesDamage;
					MemoryShieldSoldier=Math.ceil(TotalMemoryShieldSoldierLife/ShieldSoldierlife);
					ThievesDamage=0;
				}
				else
				{
					if(MemoryPikeman>0)
					{
						if(Thieves>=MemoryPikeman)
						{
							ThievesDamage=(Thieves*ThievesAttack-PikemanDefense*MemoryPikeman); 
						}
						else
						{
							ThievesDamage=(Thieves*ThievesAttack-PikemanDefense*Thieves);
						}
						TotalMemoryPikemanLife=TotalMemoryPikemanLife-ThievesDamage;
						TotalThievesToPikemanDamage=TotalThievesToPikemanDamage+ThievesDamage;
						MemoryPikeman=Math.ceil(TotalMemoryPikemanLife/Pikemanlife);
					
						ThievesDamage=0;
					}
					else
					{
						if(MemoryArcher>0)
						{
							if(Thieves>=MemoryArcher)
							{
								ThievesDamage=(Thieves*ThievesAttack-ArcherDefense*MemoryArcher); 
							}
							else
							{
								ThievesDamage=(Thieves*ThievesAttack-ArcherDefense*Thieves);
							}
							TotalMemoryArcherLife=TotalMemoryArcherLife-ThievesDamage;
							TotalThievesToArcherDamage=TotalThievesToArcherDamage+ThievesDamage;
							MemoryArcher=Math.ceil(TotalMemoryArcherLife/Archerlife);
							ThievesDamage=0;						
						}
					}
				}
			}
		}
		if(TotalPikemanDamage>0)
		{
			Campaignmessage=Campaignmessage+"[第"+Round+"回合]長槍兵對盜匪造成"+Math.round(TotalPikemanDamage)+"點傷害，擊殺"+(PikemankillThieves)+"名盜匪<br/>"
			Campaignmessagebox.innerHTML=Campaignmessage;
			Campaignmessagebox.scrollTop = Campaignmessagebox.scrollHeight; //使訊息卷軸置底	
		}
		if(TotalShieldSoldierDamage>0)
		{
			Campaignmessage=Campaignmessage+"[第"+Round+"回合]刀盾兵對盜匪造成"+Math.round(TotalShieldSoldierDamage)+"點傷害，擊殺"+(ShieldSoldierkillThieves)+"名盜匪<br/>"
			Campaignmessagebox.innerHTML=Campaignmessage;
			Campaignmessagebox.scrollTop = Campaignmessagebox.scrollHeight; //使訊息卷軸置底	
		}
		if(TotalArcherDamage>0)
		{
			Campaignmessage=Campaignmessage+"[第"+Round+"回合]弓箭兵對盜匪造成"+Math.round(TotalArcherDamage)+"點傷害，擊殺"+(ArcherkillThieves)+"名盜匪<br/>"
			Campaignmessagebox.innerHTML=Campaignmessage;
			Campaignmessagebox.scrollTop = Campaignmessagebox.scrollHeight; //使訊息卷軸置底	
		}
		if(TotalThievesToShieldSoldierDamage>0)
		{
			Campaignmessage=Campaignmessage+"[第"+Round+"回合]盜匪對刀盾兵造成"+Math.round(TotalThievesToShieldSoldierDamage)+"點傷害，擊殺"+(lastShieldSoldierValue-MemoryShieldSoldier)+"名刀盾兵<br/>"
			Campaignmessagebox.innerHTML=Campaignmessage;
			Campaignmessagebox.scrollTop = Campaignmessagebox.scrollHeight; //使訊息卷軸置底	
		}
		if(TotalThievesToPikemanDamage>0)
		{
			Campaignmessage=Campaignmessage+"[第"+Round+"回合]盜匪對長槍兵造成"+Math.round(TotalThievesToPikemanDamage)+"點傷害，擊殺"+(lastPikemanValue-MemoryPikeman)+"名長槍兵<br/>"
			Campaignmessagebox.innerHTML=Campaignmessage;
			Campaignmessagebox.scrollTop = Campaignmessagebox.scrollHeight; //使訊息卷軸置底	
		}
		if(TotalThievesToArcherDamage>0)
		{
			Campaignmessage=Campaignmessage+"[第"+Round+"回合]盜匪對弓箭兵造成"+Math.round(TotalThievesToArcherDamage)+"點傷害，擊殺"+(lastArcherValue -MemoryArcher)+"名弓箭兵<br/>"
			Campaignmessagebox.innerHTML=Campaignmessage;
			Campaignmessagebox.scrollTop = Campaignmessagebox.scrollHeight; //使訊息卷軸置底	
		}
		TotalThievesToPikemanDamage=0;
		TotalThievesToPikemanDamage=0;
		TotalThievesToArcherDamage=0;

	}
	if(Thieves<1)
	{
		Thieves=0;
		winlose=1;
		FightButton.disabled=true;
		FightButton.className = "button5-3";
		EscapeButton.disabled=true;
		EscapeButton.className = "button5-3";
		EndCampaignButton.disabled=false;
		EndCampaignButton.className = "button5-2";
		Round=0;
		Campaignmessage=Campaignmessage+"你在戰場中贏得了勝利!<br/>"
		Campaignmessagebox.innerHTML=Campaignmessage;
		Campaignmessagebox.scrollTop = Campaignmessagebox.scrollHeight; //使訊息卷軸置底	
	}
	if(MemoryArcher<1&& MemoryShieldSoldier<1 && MemoryPikeman<1)
	{
		MemoryArcher=0;
		MemoryShieldSoldier=0;
		MemoryPikeman=0;
		winlose=0;
		FightButton.disabled=true;
		FightButton.className = "button5-3";
		EscapeButton.disabled=true;
		EscapeButton.className = "button5-3";
		EndCampaignButton.disabled=false;
		EndCampaignButton.className = "button5-2";
		Round=0;
		Campaignmessage=Campaignmessage+"你在戰場中失敗!<br/>"		
		Campaignmessagebox.innerHTML=Campaignmessage;
		Campaignmessagebox.scrollTop = Campaignmessagebox.scrollHeight; //使訊息卷軸置底	
	}
	
}


function technology1LevelUp(kind) //科技升級
{
	switch(kind)
	{
		
		case 1:
		{
			if(technology1<=9 )
			{
				if(Gold>technology1Cost[technology1])
				{
					technology1=technology1+1;
					technology1LevelShow.innerHTML=technology1;
					technologyDescription1.innerHTML="升級需花費"+technology1Cost[technology1]+"黃金，升級後可獲得"+technology1Ability[technology1+1]*100+"%的資源採收加成";
					Gold=Gold-technology1Cost[technology1-1];
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]生產強化成功上升到等級"+technology1+"!!<br/>"
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
				}
				else
				{
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]"+"黃金不足!!<br/>"
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底  
				}
			}
			else
			{
				technologyDescription1.innerHTML="已達到等級上限，增加"+technology1Ability[technology1]*100+"%的資源採收加成";
			}
			break;
		}
		case 2:
		{
			if(technology2<=9)
			{
				if(Gold>technology2Cost[technology2])
				{
					technology2=technology2+1;
					technology2LevelShow.innerHTML=technology2;
					technologyDescription2.innerHTML="升級需花費"+technology2Cost[technology2]+"黃金，升級後軍隊可獲得"+technology2Ability[technology2+1]*100+"%的攻擊加成";
					Gold=Gold-technology2Cost[technology2-1];
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]軍隊振奮成功上升到等級"+technology2+"!!<br/>"
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
				}
				else
				{
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]"+"黃金不足!!<br/>"
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底  
				}
				if(technology2==10)
				{
					technologyDescription2.innerHTML="以達到等級上限，增加軍隊"+technology2Ability[technology2]*100+"%的攻擊加成";
				}
			}
			else
			{
				technologyDescription2.innerHTML="以達到等級上限，增加軍隊"+technology2Ability[technology2]*100+"%的攻擊加成";
			}
			break;
		}
	}
}
function CampaignLevelJugement(kind) //按鈕點擊獲取判斷戰役關卡
{
	CampaignLevel=kind;
	
	switch(kind)
	{
		case 1:
		{
			CampaignReadyDescription.innerHTML="<b>1-1戰役說明</b>：我們的盟友哈達姆斯國遭受盜匪軍團的入侵，百姓們發起暴動，我們必須協助哈達姆斯國剿滅那些盜匪們。<br/><b>條件說明</b>：必須派出30人以上100人以下的軍隊。";
			break;
		}
		case 2:
		{
			CampaignReadyDescription.innerHTML="<b>1-2戰役說明</b>：那些盜匪們還沒有全部清除，在哈達姆斯國的西側還有更多的盜匪。<br/><b>條件說明</b>：必須派出50人以上180人以下的軍隊。";
			break;
		}
		case 3:
		{
			CampaignReadyDescription.innerHTML="<b>1-2戰役說明</b>：盜匪們來復仇啦!!這次還有更多更多<br/><b>條件說明</b>：必須派出100人以上250人以下的軍隊。";
			break;
		}
	}
}
// 兵種提示
function MilitaryPrompt(kind) 
{
	switch(kind)
	{
		case 1:
		{
			PikemanPrompt.style.display="";
			break;
		}
		case 2:
		{
			ShieldSoldierPrompt.style.display="";
			break;
		}
		case 3:
		{
			ArcherPrompt.style.display="";
			break;
		}
	}
}
//敵軍屬性提示
function EnemyPrompt()
{
	EnemyPromptBox.style.display="";
}
function EnemyPromptVanish()
{
	EnemyPromptBox.style.display="none";
}
//科技提示
function technologyPrompt(kind)
{
	switch(kind)
	{
		case 1:
		{
			technologyDescription1.style.display="";
			break;
		}
		case 2:
		{
			technologyDescription2.style.display="";
			break;
		}

	}
}
//科技提示消失
function technologyPromptVanish(kind)
{
	switch(kind)
	{
		case 1:
		{
			technologyDescription1.style.display="none";
			break;
		}
		case 2:
		{
			technologyDescription2.style.display="none";
			break;
		}

	}
}

//兵種提示消失
function MilitaryPromptVanish(kind)
{
	switch(kind)
	{
		case 1:
		{
			PikemanPrompt.style.display="none";
			break;
		}
		case 2:
		{
			ShieldSoldierPrompt.style.display="none";
			break;
		}
		case 3:
		{
			ArcherPrompt.style.display="none";
			break;
		}
	}
}
// 建築升級提示
function StructureLevelUpPrompt(kind) 
{
	switch(kind)
	{
		case 1:
		{
			CastleLevelUpPrompt.style.display="";
			break;
		}
		case 2:
		{
			HouseLevelUpPrompt.style.display="";
			break;
		}
		case 3:
		{
			WareHouseLevelUpPrompt.style.display="";
			break;
		}
		case 4:
		{
			MilitaryCampLevelUpPrompt.style.display="";
			break;
		}
		
	}
}
//建築升級提示消失
function StructureLevelUpPromptVanish(kind) 
{
	switch(kind)
	{
		case 1:
		{
			CastleLevelUpPrompt.style.display="none";
			break;
		}
		case 2:
		{
			HouseLevelUpPrompt.style.display="none";
			break;
		}
		case 3:
		{
			WareHouseLevelUpPrompt.style.display="none";
			break;
		}
		case 4:
		{
			MilitaryCampLevelUpPrompt.style.display="none";
			break;
		}
	}
}




//生產士兵
function ProductSoldier(kind)
{
	if(ProductSoldierInput.value!="")
	{
		switch(kind)
		{
			case 1:
			{
				if(Food>=ProductSoldierInput.value*100 && Wood>=ProductSoldierInput.value*200 && IdelPopulation>=ProductSoldierInput.value )
				{
					IdelPopulation=IdelPopulation-ProductSoldierInput.value
					Food=Food-(ProductSoldierInput.value*100);
					Wood=Wood-(ProductSoldierInput.value*200);
					Pikeman=Number(ProductSoldierInput.value)+Pikeman;
					PikemanValueShow1.innerHTML=Pikeman;
					PikemanValueShow2.innerHTML=Pikeman;
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]"+"生產了"+ProductSoldierInput.value+"位長槍兵<br/>"
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
				}
				else
				{
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]"+"條件不足!!<br/>"
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
				}
				break;
			}
			case 2:
			{
				if(Food>=ProductSoldierInput.value*100 && Stone>=ProductSoldierInput.value*150 && IdelPopulation>=ProductSoldierInput.value )
				{
					IdelPopulation=IdelPopulation-ProductSoldierInput.value
					Food=Food-(ProductSoldierInput.value*100);
					Stone=Stone-(ProductSoldierInput.value*150);
					ShieldSoldier=Number(ProductSoldierInput.value)+ShieldSoldier;
					ShieldSoldierValueShow1.innerHTML=ShieldSoldier;
					ShieldSoldierValueShow2.innerHTML=ShieldSoldier;
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]"+"生產了"+ProductSoldierInput.value+"位刀盾兵<br/>"
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
					
				}
				else
				{
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]"+"條件不足!!<br/>"
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
				}
				break;
			}
			case 3:
			{
				if(Food>=ProductSoldierInput.value*100 && Wood>=ProductSoldierInput.value*300 && IdelPopulation>=ProductSoldierInput.value )
				{
					IdelPopulation=IdelPopulation-ProductSoldierInput.value
					Food=Food-(ProductSoldierInput.value*100);
					Wood=Wood-(ProductSoldierInput.value*300);
					Archer=Number(ProductSoldierInput.value)+Archer;
					ArcherValueShow1.innerHTML=Archer;
					ArcherValueShow2.innerHTML=Archer;
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]"+"生產了"+ProductSoldierInput.value+"位弓箭兵<br/>";
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
				}
				else
				{
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]"+"條件不足!!<br/>";
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
				}
				break;
			}
		}
	}
	else
	{
		message=message+"["+Hours+":"+Minutes+":"+Seconds+"]請輸入訓練數量!</br>";
		messagebox.innerHTML=message;
		messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
	}
}
function DismissalSoldier(kind)//解雇士兵
{
var a1=0; 
		if(ProductSoldierInput.value!="")
		{
			switch(kind)
			{
				case 1:
				{
					if(Pikeman>0)
					{
						var a2=Pikeman;
						for(;;)
						{
							Pikeman=Pikeman-1;
							IdelPopulation=IdelPopulation+Number(1);
							a1++;
							if(a1>=a2 || a1==ProductSoldierInput.value)
							break;
						}
						message=message+"["+Hours+":"+Minutes+":"+Seconds+"]解雇了"+ a1+"位長槍兵<br/>";
						messagebox.innerHTML=message;
						messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底  
					}
					break;
				}
				case 2:
				{
					if(ShieldSoldier>0)
					{
						var a2=ShieldSoldier;
						for(;;)
						{
							ShieldSoldier=ShieldSoldier-1;
							IdelPopulation=IdelPopulation+Number(1);
							a1++;
							if(a1>=a2 || a1==ProductSoldierInput.value)
							break;
						}
						message=message+"["+Hours+":"+Minutes+":"+Seconds+"]解雇了"+ a1+"位刀盾兵<br/>";
						messagebox.innerHTML=message;
						messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底  
					}
					break;
				}
				case 3:
				{
					if(Archer>0)
					{
						var a2=Archer;
						for(;;)
						{
							Archer=Archer-1;
							IdelPopulation=IdelPopulation+Number(1);
							a1++;
							if(a1>=a2 || a1==ProductSoldierInput.value)
							break;
						}
						message=message+"["+Hours+":"+Minutes+":"+Seconds+"]解雇了"+ a1+"位弓箭兵<br/>";
						messagebox.innerHTML=message;
						messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底  
					}
					break;
				}
			
			}		
		}
}
function StructureLevalUp(kind) //建築物升級
{
	switch(kind)
	{
		case 1:
		{
			if(Castle<15)
			{
				if(Wood>CastleLevel[Castle][0] && Stone>CastleLevel[Castle][1] )
				{
					
					Wood=Wood-CastleLevel[Castle][0];
					Stone=Stone-CastleLevel[Castle][1];
					Castle++;
					CastleShow.innerHTML=Castle;
					if(Castle<=14)
					{
						CastleLevelUpPrompt.innerHTML = "消耗" + Math.floor(CastleLevel[Castle][0]) +"木材 及 "+ Math.floor(CastleLevel[Castle][1]) + "石頭" ;
					}
					else
					{
						CastleLevelUpPrompt.innerHTML = "城堡等級已達上限" ;
					}
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]" + "城堡成功升級為"+Castle+"</br>";
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
				}	
				else
				{
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]"+"條件不足!!<br/>"
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
				}
			}
			break;
		}
		case 2:
		{
			if(House<=14)
			{
				if(Wood>HouseLevel[House][0] && Stone>HouseLevel[House][1] && Castle>House)
				{
					Wood=Wood-HouseLevel[House][0];
					Stone=Stone-HouseLevel[House][1];
					House++;
					HouseShow.innerHTML=House;
					if(House<=14)
					{
						HouseLevelUpPrompt.innerHTML = "消耗" + Math.floor(HouseLevel[House][0]) +"木材 及 "+ Math.floor(HouseLevel[House][1]) + "石頭且城堡等級"+(House+Number(1))+"，民房升級後人口為"+ (Number(100)+HouseLevel[House+1][2] );
					}
					else
					{
						HouseLevelUpPrompt.innerHTML ="民房等級已達上限";
					}
					TotalPopulation=(Number(100)+HouseLevel[House][2] );
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]" + "民房成功升級為"+House+"</br>";
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
				}
			
				else
				{
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]"+"條件不足!!<br/>"
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
				}
			}
			break;
		}
		case 3:
		{
			if(Warehouse<=14)
			{
				if(Wood>WarehouseLevel[Warehouse][0] && Stone>WarehouseLevel[Warehouse][1] && Castle>Warehouse)
				{
					Wood=Wood-WarehouseLevel[Warehouse][0];
					Stone=Stone-WarehouseLevel[Warehouse][1];
					Warehouse++;
					WarehouseShow.innerHTML=Warehouse;
					if(Warehouse<=14)
					{
						WareHouseLevelUpPrompt.innerHTML = "消耗" + Math.floor(WarehouseLevel[Castle][0]) +"木材 及 "+ Math.floor(WarehouseLevel[Castle][1]) + "石頭且城堡等級"+(Warehouse+Number(1))+"，倉庫儲量升級後為" + (Number(5000)+WarehouseLevel[Warehouse+1][2]) ;
					}
					else
					{
						WareHouseLevelUpPrompt.innerHTML ="倉庫等級已達上限"
					}
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]" + "倉庫成功升級為"+Warehouse+"</br>";
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
				}
				else
				{
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]"+"條件不足!!<br/>"
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
				}
			}
			break;
		}
		case 4:
		{
			if(MilitaryCamp<3)
			{
				if(Wood>MilitaryCampLevel[MilitaryCamp][0] && Stone>MilitaryCampLevel[MilitaryCamp][1] && Castle>MilitaryCamp)
				{	
					Wood=Wood-MilitaryCampLevel[MilitaryCamp][0];
					Stone=Stone-MilitaryCampLevel[MilitaryCamp][1];
					MilitaryCamp++;
					MilitaryCampShow.innerHTML=MilitaryCamp;
					
					switch(MilitaryCamp)
					{
						case 2:
						{
							MilitaryCampLevelUpPrompt.innerHTML = "消耗" + Math.floor(MilitaryCampLevel[MilitaryCamp][0]) +"木材 及 "+ Math.floor(MilitaryCampLevel[MilitaryCamp][1]) + "石頭，軍營等級3可訓練弓箭手" ;
							TrainShieldSoldierButton.disabled=false;
							TrainShieldSoldierButton.className = "button3";
							
							break;
						}
						case 3:
						{
							TrainArcherButton.disabled=false;
							TrainArcherButton.className = "button3";
							MilitaryCampLevelUpPrompt.innerHTML = "軍營等級已達上限" ;
							break;
						}
					}
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]" + "軍營成功升級為"+MilitaryCamp+"</br>";
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
				}
				else
				{
					message=message+"["+Hours+":"+Minutes+":"+Seconds+"]"+"條件不足!!<br/>"
					messagebox.innerHTML=message;
					messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
				}
				
			}
			break;
		}
	}
}
function Gift() //時段禮物
{
	var Gift=0;
	
	Gift = Math.floor(Math.random()*4)+1;
	GiftTime();
	switch(Gift)
	{
		case 1:
		{
			message=message+"["+Hours+":"+Minutes+":"+Seconds+"]" +"在時段獎勵中獲得了食物"+ (TotalPopulation/2)*Level+"<br/>";
			MemoryFood=MemoryFood+Number(TotalPopulation/2)*Level;
			
			break;
		}
		case 2:
		{
			message=message+"["+Hours+":"+Minutes+":"+Seconds+"]" +"在時段獎勵中獲得了木材"+ (TotalPopulation/2)*Level+"<br/>";
			MemoryWood=MemoryWood+Number(TotalPopulation/2)*Level;
	
			break;
		}
		case 3:
		{
			message=message+"["+Hours+":"+Minutes+":"+Seconds+"]" +"在時段獎勵中獲得了石頭"+ (TotalPopulation/5)*Level+"<br/>";
			MemoryStone=MemoryStone+Number(TotalPopulation/5)*Level;	

			break;
		
		}
		case 4:
		{
			message=message+"["+Hours+":"+Minutes+":"+Seconds+"]" +"在時段獎勵中獲得了黃金"+ (TotalPopulation/10)*Level+"<br/>";
			MemoryGold=MemoryGold+Number(TotalPopulation/10)*Level;
			break;
		}
	}
	
	messagebox.innerHTML=message;
	messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
	
}
function LevelUp() //個人等級增加
{
	if(exp>=LevelExp[Level])
	{
	   exp=exp-LevelExp[Level];
	   Level++;
	   message=message+ "["+Hours+":"+Minutes+":"+Seconds+"]" +"等級上升至"+Level+ " !!<br/>";
	   messagebox.innerHTML=message;
	   messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底	
	}
	else
	{
	   message=message+ "["+Hours+":"+Minutes+":"+Seconds+"]" +"經驗值不足!! 尚缺" + Math.floor(LevelExp[Level]-exp) + "點<br/>";
	   messagebox.innerHTML=message;
	   messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
	}
}


function ReceiveResource() //提領手動採集資源
{	
	if(Math.floor(MemoryFood)>0 || Math.floor(MemoryWood)>0 || Math.floor(MemoryStone)>0 || Math.floor(MemoryGold)>0)
	{
		message=message+ "["+Hours+":"+Minutes+":"+Seconds+"]" +"您提領了食物" +Math.floor(MemoryFood)+" 木材"+Math.floor(MemoryWood) + " 石頭" + Math.floor(MemoryStone) + " 黃金" +Math.floor(MemoryGold)+"<br//>";
		messagebox.innerHTML=message;
		messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
		Food=Food+MemoryFood;
		MemoryFood=0;
		Wood=Wood+MemoryWood;
		MemoryWood=0;
		Stone=Stone+MemoryStone;
		MemoryStone=0;
		Gold=Gold+MemoryGold;
		MemoryGold=0;
		
	}
	
}
function add(resource,addvalue,valueshow) //採集資源
{
	resource=resource+addvalue;
	valueshow.innerHTML = Math.floor(resource);
	return resource;
}
function exchange1(lasttime1,thistime)//變更div
 { 
	if(thistime==resource)
	{
		lasttime1.style.display='none';
		resource.style.display='';
		return resource;
	}

	if(thistime==technology)
	{
		lasttime1.style.display='none';
		technology.style.display='';
		return technology;
	}
	if(thistime==milltary)
	{
		lasttime1.style.display='none';
		milltary.style.display='';
		return milltary;
	}
	if(thistime==structure)
	{
		lasttime1.style.display='none';
		structure.style.display='';
		return structure;
	}
}
function exchange2(lasttime2,thistime)
{
	if(thistime==PracticeArea)
	{
		lasttime2.style.display='none';
		PracticeArea.style.display='';
		return PracticeArea;
	}

	if(thistime==Campaign)
	{
		if(CampaignLevel!=0 && Campaigngamein!=1)
		{
			CampaignLevel=0;
		}
		
		if(CampaignLevel==0)
		{
			lasttime2.style.display='none';
			Campaign.style.display='';
			return Campaign;
		}
		else
		{
			lasttime2.style.display='none';
			CampaignScreen.style.display='';
			return CampaignScreen;
		}

	}

	if(thistime==Introduction)
	{
		lasttime2.style.display='none';
		Introduction.style.display='';
		return Introduction;
	}
	if(thistime==Aboutme)
	{
		lasttime2.style.display='none';
		Aboutme.style.display='';
		return Aboutme;
	}
	if(thistime==CampaignReady)
	{
		lasttime2.style.display='none';
		CampaignReady.style.display='';
		return CampaignReady;		
	}
	

	if(thistime==CampaignReadygo)
	{
		FightButton.disabled=false;
		FightButton.className = "button5-2";
		EscapeButton.disabled=false;
		EscapeButton.className = "button5-2";
		EndCampaignButton.disabled=true;
		EndCampaignButton.className = "button5-3";
			if(PikemanRedeyInput.value!="" || ShieldSoldierRedeyInput.value !="" || ArcherRedeyInput.value!="")
			{
				if(PikemanRedeyInput.value<=Pikeman)
				{
					if(ShieldSoldierRedeyInput.value<=ShieldSoldier)
					{
						if(ArcherRedeyInput.value<=Archer)
						{
							Campaigngamein=1; //判別div更換
							if(PikemanRedeyInput.value!="")
							{
								MemoryPikeman=PikemanRedeyInput.value;
								MemoryPikemanShow.innerHTML=MemoryPikeman;
								Pikeman=Pikeman-MemoryPikeman;
							}
							else
							{
								MemoryPikeman=0;
								MemoryPikemanShow.innerHTML=MemoryPikeman;
							}
							if(ShieldSoldierRedeyInput.value!="")
							{
								MemoryShieldSoldier=ShieldSoldierRedeyInput.value;
								MemoryShieldSoldierShow.innerHTML=MemoryShieldSoldier;
								ShieldSoldier=ShieldSoldier-MemoryShieldSoldier;
							}
							else
							{
								MemoryShieldSoldier=0;
								MemoryPikemanShow.innerHTML=MemoryPikeman;
							}
							if(ArcherRedeyInput.value!="")
							{
								MemoryArcher=ArcherRedeyInput.value;
								MemoryArcherShow.innerHTML=MemoryArcher;
								Archer=Archer-MemoryArcher;
							}
							else
							{
								MemoryArcher=0;
								MemoryPikemanShow.innerHTML=MemoryPikeman;
							}

							switch(CampaignLevel)
							{
								case 1:
								{
									if((Number(MemoryPikeman)+Number(MemoryShieldSoldier)+Number(MemoryArcher))>=30 && (Number(MemoryPikeman)+Number(MemoryShieldSoldier)+Number(MemoryArcher)<=100 ))
									{
										lasttime2.style.display='none';
										CampaignScreen.style.display='';
										return CampaignScreen;
									}
									else
									{

										Pikeman=Number(Pikeman)+Number(MemoryPikeman);
										ShieldSoldier=Number(ShieldSoldier)+Number(MemoryShieldSoldier);
										Archer=Number(Archer)+Number(MemoryArcher);
										MemoryArcher=0;
										MemoryShieldSoldier=0;
										MemoryPikeman=0
										return CampaignReady;
									}
								}
								case 2:
								{
									if((Number(MemoryPikeman)+Number(MemoryShieldSoldier)+Number(MemoryArcher))>=50 && (Number(MemoryPikeman)+Number(MemoryShieldSoldier)+Number(MemoryArcher)<=180 ))
									{
										lasttime2.style.display='none';
										CampaignScreen.style.display='';
										return CampaignScreen;
									}
									else
									{
										
										Pikeman=Number(Pikeman)+Number(MemoryPikeman);
										ShieldSoldier=Number(ShieldSoldier)+Number(MemoryShieldSoldier);
										Archer=Number(Archer)+Number(MemoryArcher);
										MemoryArcher=0;
										MemoryShieldSoldier=0;
										MemoryPikeman=0
										return CampaignReady;
									}
								}
								case 3:
								{
									if((Number(MemoryPikeman)+Number(MemoryShieldSoldier)+Number(MemoryArcher))>=100 && (Number(MemoryPikeman)+Number(MemoryShieldSoldier)+Number(MemoryArcher)<=250 ))
									{
										lasttime2.style.display='none';
										CampaignScreen.style.display='';
										return CampaignScreen;
									}
									else
									{
										
										Pikeman=Number(Pikeman)+Number(MemoryPikeman);
										ShieldSoldier=Number(ShieldSoldier)+Number(MemoryShieldSoldier);
										Archer=Number(Archer)+Number(MemoryArcher);
										MemoryArcher=0;
										MemoryShieldSoldier=0;
										MemoryPikeman=0
										return CampaignReady;
									}
								}
							}

						}
						else
						{
							lasttime2.style.display='none';
							CampaignReady.style.display='';
							return CampaignReady;
						}
					}
					else
					{
						lasttime2.style.display='none';
						CampaignReady.style.display='';
						return CampaignReady;
					}
					
				}
				else
				{
					lasttime2.style.display='none';
					CampaignReady.style.display='';
					return CampaignReady;
				}
			}
			else
			{
				lasttime2.style.display='none';
				CampaignReady.style.display='';
				return CampaignReady;
			}
	}
}	
function Initial() //初始化資料
{
	//第一份時段禮物
	GiftTime();


	messagebox.innerHTML=message;
	technologyDescription1.innerHTML="升級需花費"+technology1Cost[technology1]+"金幣，升級後可獲得"+technology1Ability[technology1+1]*100+"%的資源採收加成";
	technologyDescription2.innerHTML="升級需花費"+technology2Cost[technology1]+"金幣，升級後軍隊可獲得"+technology2Ability[technology2+1]*100+"%的攻擊加成";
	PikemanPrompt.innerHTML = "長槍兵需要消耗100食物及200木材，長槍兵生命380、攻擊力50、防禦力22";
	ShieldSoldierPrompt.innerHTML ="刀盾兵需要消耗100食物及150石頭，刀盾兵生命550、攻擊力30、防禦力40";
	ArcherPrompt.innerHTML ="弓箭兵需要消耗100食物及300木材，弓箭兵生命100、攻擊力60、防禦力12，第一回合先發動攻擊，但攻擊力為40";
	

	CastleLevelUpPrompt.innerHTML = "消耗" + Math.floor(CastleLevel[Castle][0]) +"木材 及 "+ Math.floor(CastleLevel[Castle][1]) + "石頭" ;
	HouseLevelUpPrompt.innerHTML = "消耗" + Math.floor(HouseLevel[Castle][0]) +"木材 及 "+ Math.floor(HouseLevel[House][1]) + "石頭且城堡等級"+(House+Number(1))+"，民房升級後人口為"+ (Number(100)+HouseLevel[House+1][2] );
	WareHouseLevelUpPrompt.innerHTML = "消耗" + Math.floor(WarehouseLevel[Castle][0]) +"木材 及 "+ Math.floor(WarehouseLevel[Castle][1]) + "石頭且城堡等級"+(Warehouse+Number(1))+"，倉庫儲量升級後為" + (Number(5000)+WarehouseLevel[Warehouse+1][2]) ;
	MilitaryCampLevelUpPrompt.innerHTML = "消耗" + Math.floor(MilitaryCampLevel[MilitaryCamp][0]) +"木材 及 "+ Math.floor(MilitaryCampLevel[MilitaryCamp][1]) + "石頭，軍營等級2可訓練刀盾兵" ;
}  
function GiftTime()
{
	giftflag=1;
	GiftSeconds = Math.floor(Math.random()*60)+150;
	var GiftSeconds;
	 Hr = new Date().getHours();
	 Min = new Date().getMinutes();
	 Sec = new Date().getSeconds()+Number(GiftSeconds);
	for(i=1;i<=5;i++)
	{
		if(Sec>=60)
		{
			Min=Min+1;
			Sec=Sec-60;
			if(Min>=60)
			{
				Hr=Hr+1;
				Min=Min-60;
				if(Hr>=24)
				{
					Hr=Hr-24;
				}
			}
		}
	}
	
}
function Updated() //每100豪秒進行一次判讀
{
	//禮物
	 if(Hr==Hour && Min==Minute && Sec==Second &&giftflag==1)
	 {
		Gift();
	 }
	//抓取時間
	Hour = new Date().getHours();
	Minute = new Date().getMinutes();
	Second = new Date().getSeconds();
	
	 Hours = new Date().getHours();
	 if(Hours<10)
	 {
		Hours="0"+Hours;
	 }
	 Minutes = new Date().getMinutes();
	 if(Minutes<10)
	 {
		Minutes="0"+Minutes;
	 }
	 Seconds = new Date().getSeconds();
	 if(Seconds<10)
	 {
		Seconds="0"+Seconds;
	 }
	//個人資料 等級、經驗
	 LevelValueShow.innerHTML= Level ;
	 ExpValueShow.innerHTML = Math.floor(exp) + "/" +Math.floor(LevelExp[Level]);
	 if(exp<LevelExp[Level])
	 {
		LevelUpButton.disabled=true;
		LevelUpButton.className = "button1-1";　
	 }
	 else
	 {
		LevelUpButton.disabled=false;
		LevelUpButton.className = "button1";　
	 }
	 //閒置人口刷新
	 IdelPopulation=TotalPopulation-(Number(Pikeman)+Number(ShieldSoldier)+Number(Archer)+Number(Peasant)+Number(Woodcutter)+Number(Miner)+Number(MemoryPikeman)+Number(MemoryShieldSoldier)+Number(MemoryArcher));
	 PopulationValueShow.innerHTML=IdelPopulation+"/"+TotalPopulation;
	//資源區
	 PopulationValueShow.innerHTML = IdelPopulation + "/" + TotalPopulation;
	 FoodValueShow.innerHTML = Math.floor(Food) ;
	 WoodValueShow.innerHTML = Math.floor(Wood);
 	 StoneValueShow.innerHTML= Math.floor(Stone);
	 GoldValueShow.innerHTML = Math.floor(Gold);
	 DiamondValueShow.innerHTML=Diamond;
	 AutoGoldAdd=TotalPopulation/1000;
	 	
	 FoodAddValue=5*technology1Ability[technology1];
	 WoodAddValue=5*technology1Ability[technology1];
	 StoneAddValue=2*technology1Ability[technology1];
	 GoldAddValue=1*technology1Ability[technology1];

	 ManualGatherFoodShow.innerHTML = "(" +FoodAddValue.toFixed(2) + "/次)";
	 ManualGatherWoodShow.innerHTML = "(" +WoodAddValue.toFixed(2) + "/次)";
 	 ManualGatherStoneShow.innerHTML= "(" +StoneAddValue.toFixed(2) + "/次)";
	 ManualGatherGoldShow.innerHTML = "(" + GoldAddValue.toFixed(2) + "/次)";
	 AutoProductionFoodShow.innerHTML = "(" +AutoFoodAdd.toFixed(2) + "/秒)";
	 AutoProductionWoodShow.innerHTML = "(" +AutoWoodAdd.toFixed(2) + "/秒)";
 	 AutoProductionStoneShow.innerHTML= "(" +AutoStoneAdd.toFixed(2) + "/秒)";
	 AutoProductionGoldShow.innerHTML = "(" +AutoGoldAdd.toFixed(2) + "/秒)";
	 MemoryFoodValueShow.innerHTML = Math.floor(MemoryFood)+" / " +(Number(5000)+WarehouseLevel[Warehouse][2]) ;
	 MemoryWoodValueShow.innerHTML = Math.floor(MemoryWood)+" / " +(Number(5000)+WarehouseLevel[Warehouse][2]);
	 MemoryStoneValueShow.innerHTML= Math.floor(MemoryStone)+" / " +(Number(5000)+WarehouseLevel[Warehouse][2]);
	 MemoryGoldValueShow.innerHTML = Math.floor(MemoryGold)+" / " +(Number(5000)+WarehouseLevel[Warehouse][2]);
	 
	 //勞工軍事區
	 PeasantValueShow.innerHTML = Peasant;
	 WoodcutterValueShow.innerHTML = Woodcutter;
	 MinerValueShow.innerHTML = Miner;
	 PikemanValueShow1.innerHTML = Pikeman;
	 ShieldSoldierValueShow1.innerHTML = ShieldSoldier;
	 ArcherValueShow1.innerHTML = Archer;
	//戰役區
	MemoryThievesShow.innerHTML=Thieves;
	MemoryPikemanShow.innerHTML=MemoryPikeman;
	MemoryShieldSoldierShow.innerHTML=MemoryShieldSoldier;
	MemoryArcherShow.innerHTML=MemoryArcher;
	//軍事區
	PikemanValueShow1.innerHTML=Pikeman;
	PikemanValueShow2.innerHTML=Pikeman;
	ShieldSoldierValueShow1.innerHTML=ShieldSoldier;
	ShieldSoldierValueShow2.innerHTML=ShieldSoldier;
	ArcherValueShow1.innerHTML=Archer;
	ArcherValueShow1.innerHTML=Archer;

	setTimeout('Updated()',100);
}
function autoresource() //每秒將自動採集加到儲存資源區
{
	if(MemoryFood<=(Number(5000)+WarehouseLevel[Warehouse][2]))
	{
		MemoryFood=MemoryFood+AutoFoodAdd;
		if(MemoryFood>(Number(5000)+WarehouseLevel[Warehouse][2]))
		{
			MemoryFood=(Number(5000)+WarehouseLevel[Warehouse][2]);
		}
	}
	if(MemoryWood<=(Number(5000)+WarehouseLevel[Warehouse][2]))
	{
		MemoryWood=MemoryWood+AutoWoodAdd;
		if(MemoryWood>(Number(5000)+WarehouseLevel[Warehouse][2]))
		{
			MemoryWood=(Number(5000)+WarehouseLevel[Warehouse][2]);
		}
	}
	if(MemoryStone<=(Number(5000)+WarehouseLevel[Warehouse][2]))
	{
		MemoryStone=MemoryStone+AutoStoneAdd;;
		if(MemoryStone>(Number(5000)+WarehouseLevel[Warehouse][2]))
		{
			MemoryStone=(Number(5000)+WarehouseLevel[Warehouse][2]);
		}
	}
	if(MemoryGold<=(Number(5000)+WarehouseLevel[Warehouse][2]))
	{
		MemoryGold=MemoryGold+AutoGoldAdd;
		if(MemoryGold>(Number(5000)+WarehouseLevel[Warehouse][2]))
		{
			MemoryGold=(Number(5000)+WarehouseLevel[Warehouse][2]);
		}
	}
	
	setTimeout('autoresource()',1000);

}

function ProductLabor(kind) //生產農民、伐木工、礦工
{	
	if(ProductLaborInput.value!=0)
	{
		if(kind==1 && Gold>=ProductLaborInput.value*50 && IdelPopulation>=ProductLaborInput.value )
		{
			IdelPopulation=IdelPopulation-ProductLaborInput.value
			Gold=Gold-(ProductLaborInput.value*50);
			Peasant=Number(ProductLaborInput.value)+Peasant;
			PeasantValueShow.innerHTML=Peasant;
			message=message+"["+Hours+":"+Minutes+":"+Seconds+"]"+"生產了"+ProductLaborInput.value+"位農民<br/>"
			messagebox.innerHTML=message;
			messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
			
		}
		if(kind==2 && Gold>=ProductLaborInput.value*50 && IdelPopulation>=ProductLaborInput.value)
		{
			IdelPopulation=IdelPopulation-ProductLaborInput.value
			Gold=Gold-(ProductLaborInput.value*50);
			Woodcutter=Number(ProductLaborInput.value)+Woodcutter;
			WoodcutterValueShow.innerHTML=Woodcutter;
			message=message+"["+Hours+":"+Minutes+":"+Seconds+"]"+"生產了"+ProductLaborInput.value+"位伐木工<br/>"
			messagebox.innerHTML=message;
			messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
		}
		if(kind==3 && Gold>=ProductLaborInput.value*50 && IdelPopulation>=ProductLaborInput.value)
		{
			IdelPopulation=IdelPopulation-ProductLaborInput.value
			Gold=Gold-(ProductLaborInput.value*50);
			Miner=Number(ProductLaborInput.value)+Miner;
			MinerValueShow.innerHTML=Miner;
			message=message+"["+Hours+":"+Minutes+":"+Seconds+"]"+"生產了"+ProductLaborInput.value+"位礦工<br/>"
			messagebox.innerHTML=message;
			messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
		}
		if(Gold<ProductLaborInput.value*50)
		{
			message=message+"["+Hours+":"+Minutes+":"+Seconds+"]資源不足!欠缺"+Math.ceil((ProductLaborInput.value*50-Gold))+"的黃金<br/>";
			messagebox.innerHTML=message;
			messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
		}
		if(IdelPopulation<ProductLaborInput.value)
		{
			message=message+"["+Hours+":"+Minutes+":"+Seconds+"]閒置人口不足!欠缺"+(ProductLaborInput.value-IdelPopulation)+"的閒置人口<br/>";
			messagebox.innerHTML=message;
			messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
		}
	}
	else
	{
		message=message+"["+Hours+":"+Minutes+":"+Seconds+"]請輸入訓練數量!</br>";
		messagebox.innerHTML=message;
		messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
	} 
	AutoFoodAdd=(Peasant)*technology1Ability[technology1];
	AutoWoodAdd=(Woodcutter)*technology1Ability[technology1];
	AutoStoneAdd=(Miner/5)*technology1Ability[technology1];
}
function DismissalLabor(kind) //解雇工人
{
var a1=0; 
		if(ProductLaborInput.value!="")
		{
			if(kind == 1 && Peasant>0)
			{
				var a2=Peasant;
				for(;;)
				{
				    Peasant=Peasant-1;
					IdelPopulation=IdelPopulation+Number(1);
				    a1++;
					if(a1>=a2 || a1==ProductLaborInput.value)
					break;
				}
				message=message+"["+Hours+":"+Minutes+":"+Seconds+"]解雇了"+ a1+"位農民<br/>";
				messagebox.innerHTML=message;
				messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底  
			}
			if(kind == 2 && Woodcutter>0 )
			{
				var a2=Woodcutter;
				for(;;)
				{
				    Woodcutter=Woodcutter-1;
					IdelPopulation=IdelPopulation+Number(1);
				    a1++;
					if(a1>=a2 || a1==ProductLaborInput.value)
					break;
				}
				message=message+"["+Hours+":"+Minutes+":"+Seconds+"]解雇了"+ a1+"位伐木工<br/>";
				messagebox.innerHTML=message;
				messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
			}
			if(kind == 3 && Miner>0)
			{
				var a2=Miner;
				for(;;)
				{
				    Miner=Miner-1;
					IdelPopulation=IdelPopulation+Number(1);
				    a1++;
					if(a1>=a2 || a1==ProductLaborInput.value)
					break;
				}
				message=message+"["+Hours+":"+Minutes+":"+Seconds+"]解雇了"+ a1+"位礦工<br/>";
				messagebox.innerHTML=message;
				messagebox.scrollTop = messagebox.scrollHeight; //使訊息卷軸置底
			}
		}
	AutoFoodAdd=(Peasant/5)*technology1Ability[technology1];
	AutoWoodAdd=(Woodcutter/5)*technology1Ability[technology1];
	AutoStoneAdd=(Miner/20)*technology1Ability[technology1];
		
}
function AllResourceAdd(x) 
{
	Food=Food+Number(x);
	Wood=Wood+Number(x);
	Stone=Stone+Number(x);
	Gold=Gold+Number(x);
}
</script>
